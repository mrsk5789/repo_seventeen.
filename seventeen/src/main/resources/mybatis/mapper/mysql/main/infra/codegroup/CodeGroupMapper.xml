<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.hybe.infra.codegroup.CodeGroupDao"> 
<!--mapper와 연결될 dao //  ctrl+shift+c-->
	  
	  <resultMap id="resultMapObj" type="com.example.hybe.infra.codegroup.CodeGroupDto"></resultMap>
	  
	  <select id="selectList" resultMap="resultMapObj">
	  SELECT
			a.ifcgSeq
			,a.ifcgName
			,a.ifcgUseNy
			,a.ifcgOrder
			,a.ifcgDesc
			,a.ifcgDelNy
			,a.ifcgRegDate
			,a.ifcgRenDate
        FROM 
			codegroup a
		ORDER BY
			a.ifcgSeq desc

	  </select>
	  <insert id="insert">
	  	INSERT INTO codegroup(
			ifcgName
			,ifcgUseNy
			,ifcgOrder
			,ifcgDesc
			,ifcgDelNy
			,ifcgRegDate
			,ifcgRenDate
	  	)VALUES(
			#{ifcgName}
			,#{ifcgUseNy}
			,#{ifcgOrder}
			,#{ifcgDesc}
			,#{ifcgDelNy}
			,now()
			,now()
			)
	  </insert>
	  
	  <select id="selectOne" resultMap="resultMapObj">
	  	 SELECT
	  	 	a.ifcgSeq
			,a.ifcgName
			,a.ifcgUseNy
			,a.ifcgOrder
			,a.ifcgDesc
			,a.ifcgDelNy
			,a.ifcgRegDate
			,a.ifcgRenDate
        FROM 
			codegroup a	
		WHERE 1=1
			AND	a.ifcgSeq = #{ifcgSeq}
	  </select>
	  <update id="update">
	    UPDATE codegroup
	    SET
	  	    ifcgName = #{ifcgName}
			,ifcgUseNy = #{ifcgUseNy}
			,ifcgOrder = #{ifcgOrder}
			,ifcgDesc = #{ifcgDesc}
			,ifcgDelNy = #{ifcgDelNy}
		WHERE 1=1
			AND	a.ifcgSeq = #{ifcgSeq}	
	  
	  </update>
</mapper>